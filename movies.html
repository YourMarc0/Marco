<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movies - Marco</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <div class="logo">
            <h1>MARCO</h1>
        </div>
        <div class="search-bar">
            <input type="text" placeholder="Search...">
            <button><i class="fas fa-search"></i></button>
        </div>
        <div class="user-actions">
            <a href="login.html" class="admin-btn">Admin</a>
            <a href="#" class="login-btn">Login</a>
        </div>
    </header>

    <nav class="sidebar">
        <ul>
            <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
            <li><a href="topimdb.html"><i class="fas fa-star"></i> Top IMDB</a></li>
            <li class="active"><a href="movies.html"><i class="fas fa-film"></i> Movies</a></li>
            <li><a href="tvshows.html"><i class="fas fa-tv"></i> TV Shows</a></li>
            <li class="category-header">Genres</li>
            <li><a href="#" class="genre-link" data-genre="action">Action</a></li>
            <li><a href="#" class="genre-link" data-genre="adventure">Adventure</a></li>
            <li><a href="#" class="genre-link" data-genre="animation">Animation</a></li>
            <li><a href="#" class="genre-link" data-genre="comedy">Comedy</a></li>
            <li><a href="#" class="genre-link" data-genre="crime">Crime</a></li>
            <li><a href="#" class="genre-link" data-genre="drama">Drama</a></li>
            <li><a href="#" class="genre-link" data-genre="fantasy">Fantasy</a></li>
            <li><a href="#" class="genre-link" data-genre="horror">Horror</a></li>
            <li><a href="#" class="genre-link" data-genre="mystery">Mystery</a></li>
            <li><a href="#" class="genre-link" data-genre="romance">Romance</a></li>
            <li><a href="#" class="genre-link" data-genre="scifi">Sci-Fi</a></li>
            <li><a href="#" class="genre-link" data-genre="thriller">Thriller</a></li>
            <li><a href="#" class="genre-link" data-genre="war">War</a></li>
            <li><a href="#" class="genre-link" data-genre="western">Western</a></li>
            <li class="category-header">Country</li>
            <li><a href="#" class="country-link" data-country="argentina">Argentina</a></li>
            <li><a href="#" class="country-link" data-country="australia">Australia</a></li>
            <li><a href="#" class="country-link" data-country="brazil">Brazil</a></li>
            <li><a href="#" class="country-link" data-country="canada">Canada</a></li>
            <li><a href="#" class="country-link" data-country="china">China</a></li>
            <li><a href="#" class="country-link" data-country="france">France</a></li>
            <li><a href="#" class="country-link" data-country="germany">Germany</a></li>
            <li><a href="#" class="country-link" data-country="india">India</a></li>
            <li><a href="#" class="country-link" data-country="japan">Japan</a></li>
            <li><a href="#" class="country-link" data-country="korea">Korea</a></li>
            <li><a href="#" class="country-link" data-country="mexico">Mexico</a></li>
            <li><a href="#" class="country-link" data-country="russia">Russia</a></li>
            <li><a href="#" class="country-link" data-country="spain">Spain</a></li>
            <li><a href="#" class="country-link" data-country="uk">UK</a></li>
            <li><a href="#" class="country-link" data-country="usa">USA</a></li>
        </ul>
    </nav>

    <main>
        <section class="section-title">
            <h2>Movies</h2>
        </section>
        
        <section class="movie-section">
            <div class="filter-tabs">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="action">Action</button>
                <button class="filter-btn" data-filter="comedy">Comedy</button>
                <button class="filter-btn" data-filter="drama">Drama</button>
                <button class="filter-btn" data-filter="scifi">Sci-Fi</button>
            </div>
            
            <div class="movie-grid" id="moviesGrid">
                <!-- Movies will be loaded here via JavaScript -->
            </div>
        </section>
    </main>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Load movies
            const movies = JSON.parse(localStorage.getItem('marcoMovies')) || [];
            const moviesOnly = movies.filter(movie => movie.type === 'movie');
            
            // Display movies
            const moviesGrid = document.getElementById('moviesGrid');
            displayMovies(moviesOnly, moviesGrid);
            
            // Filter buttons functionality
            const filterBtns = document.querySelectorAll('.filter-btn');
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // Remove active class from all buttons
                    filterBtns.forEach(btn => btn.classList.remove('active'));
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                    
                    const filterValue = this.dataset.filter;
                    let filteredMovies = [];
                    
                    // Filter movies based on button value
                    if (filterValue === 'all') {
                        filteredMovies = moviesOnly;
                    } else {
                        filteredMovies = moviesOnly.filter(movie => 
                            movie.genre && movie.genre.map(g => g.toLowerCase()).includes(filterValue.toLowerCase())
                        );
                    }
                    
                    // Display filtered movies
                    displayMovies(filteredMovies, moviesGrid);
                });
            });
            
            // Genre links functionality
            const genreLinks = document.querySelectorAll('.genre-link');
            genreLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const genre = this.dataset.genre;
                    const filteredMovies = moviesOnly.filter(movie => 
                        movie.genre && movie.genre.map(g => g.toLowerCase()).includes(genre.toLowerCase())
                    );
                    
                    // Display filtered movies
                    displayMovies(filteredMovies, moviesGrid);
                    document.querySelector('.section-title h2').textContent = `Movies: ${genre.charAt(0).toUpperCase() + genre.slice(1)}`;
                    
                    // Update active class
                    document.querySelectorAll('.sidebar ul li').forEach(item => {
                        item.classList.remove('active');
                    });
                    this.parentElement.classList.add('active');
                });
            });
            
            // Country links functionality
            const countryLinks = document.querySelectorAll('.country-link');
            countryLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const country = this.dataset.country;
                    const filteredMovies = moviesOnly.filter(movie => 
                        movie.country && movie.country.toLowerCase() === country.toLowerCase()
                    );
                    
                    // Display filtered movies
                    displayMovies(filteredMovies, moviesGrid);
                    document.querySelector('.section-title h2').textContent = `Movies from ${country.charAt(0).toUpperCase() + country.slice(1)}`;
                    
                    // Update active class
                    document.querySelectorAll('.sidebar ul li').forEach(item => {
                        item.classList.remove('active');
                    });
                    this.parentElement.classList.add('active');
                });
            });
        });
    </script>
</body>
</html>